function size_dict(o){c=0;for(i in o)++c;return c}function flipABlock(){var o=Math.floor(Math.random()*(totalBlock-1)),t=Math.floor(Math.random()*size_dict(colors));0==rotated[o]?($("#block-"+o).transition({rotateY:180}),rotated[o]=1):($("#block-"+o).transition({rotateY:0}),rotated[o]=0),$("#block-"+o).css("background-color",colors[t])}var blockSide,horizontalBlock,verticalBlock,SHORTHANDBLOCK=4,colors={0:"#1abc9c",1:"#2ecc71",2:"#3498db",3:"#e67e22",4:"#e74c3c"};$(window).innerWidth()<$(window).innerHeight()?(blockSide=$(window).innerWidth()/SHORTHANDBLOCK,horizontalBlock=SHORTHANDBLOCK,verticalBlock=parseInt($(window).innerHeight()/blockSide)+1):(blockSide=$(window).innerHeight()/SHORTHANDBLOCK,horizontalBlock=parseInt($(window).innerWidth()/blockSide)+1,verticalBlock=SHORTHANDBLOCK);for(var totalBlock=horizontalBlock*verticalBlock,i=0;totalBlock>i;i++)$("#color-block").append("<div id='block-"+i+"' class='blocks'></div>");var b_left=0,b_top=0;$(".blocks").each(function(){$(this).css("width",blockSide+"px"),$(this).css("height",blockSide+"px"),$(this).css("left",b_left*blockSide+"px"),$(this).css("top",b_top*blockSide+"px"),b_left>=horizontalBlock-1?(b_top++,b_left=0):b_left++;var o=Math.floor(Math.random()*size_dict(colors));$(this).css("background-color",colors[o])});for(var rotated=[],i=0;totalBlock>i;i++)rotated.push("0");flipABlock(),setInterval("flipABlock()",3e3),setInterval("flipABlock()",7e3);